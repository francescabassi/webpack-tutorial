# WEBPACK TUTORIAL

This is a step by step tutorial to show how set up a React project using Webpack.

## STEP 1

### Setup

To start clone this project:

```
git clone --branch 1_step https://github.com/francescabassi/webpack-tutorial.git
```

### Usage

Install the dependencies:

```
npm install
```

Then build the project:

```
webpack src/main.js dist/bundle.js
```

You can see the result open in your browser the `dist/index.html` file.

## Tutorial

Let's create a sample project to use Webpack. Start with a new, empty folder and create a package.json file. ```-y``` generates package.json, skip for more control.

```
npm init -y
```
Add webpack as a project dependency and install it with:

```
npm i webpack --save-dev
```
Let's move on to the project structure:

![Alt text][project_structure_img]

There are two folders: an `src` folder for original source code / JavaScript modules, and a `dist` folder for files that are ready to be used in the browser (which include the bundled JavaScript file generated by Webpack, as well as an index.html file). You will create three files: an `index.html` file on the dist folder and two JavaScript files on the src folder: `main.js` and `Hello.js`.

**dist/index.html**

The `index.html` will contain a pretty basic HTML page, whose only purpose is to load the bundled JavaScript file.

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Webpack Tutorial</title>
  </head>
  <body>
    <div id='content'>
    </div>
    <script src="bundle.js"></script>
  </body>
</html>
```
The `Hello.js` is simply a function that returns a new HTML element with a hello message.

**src/Hello.js**

```javascript
module.exports = function() {
  const hello = document.createElement('div');
  hello.textContent = "Hello!";
  return hello;
};
```

The `main.js` file will insert the HTML element returned by the Hello module in the page.

**main.js**

```javascript
const hello = require('./Hello.js');
document.getElementById('content').appendChild(hello());

```

The basic command line syntax for webpack is `webpack {entry file} {destination for bundled file}`. If you don't have webpack installed globally, you will need to reference the webpack command in the node_modules folder of your project.

```
webpack src/main.js dist/bundle.js
```

You should see the following output in the terminal:

![alt text][first_build_img]

If you open the `index.html` file on the browser, the result will look like this:

![alt text][first_output_img]

## Sources
- [SurviveJS]
- [Pro React]

[SurviveJS]: <http://survivejs.com/webpack/introduction/>
[Pro React]: <http://www.pro-react.com/materials/appendixA/>

[project_structure_img]: ./img/webpack_project_structure.png "project structure"
[first_build_img]: ./img/webpack_first_build.png "first build"
[first_output_img]: ./img/webpack_first_output.png "first output"
